(this.webpackJsonpmymovies=this.webpackJsonpmymovies||[]).push([[0],{57:function(e,t,a){},59:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(25),r=a.n(c),i=(a(57),a(47)),l=function e(){var t=this;Object(i.a)(this,e),this.addUser=function(e){var a=e.email,n=e.password,s=e.name,c=e.dob;return new Promise((function(e,r){a||s||n||c||r("Invalid values"),t.usersList.filter((function(e){return e.email===a})).length&&r("Email exists"),t.usersList.push({email:a,name:s,password:n,dob:c}),localStorage.setItem("users",JSON.stringify(t.usersList)),e({email:a,password:n,name:s,dob:c})}))},this.authenticateUser=function(e){var a=e.email,n=e.password;return new Promise((function(e,s){var c=t.usersList.filter((function(e){return e.email===a})).filter((function(e){return e.password===n}));c.length?(t.authUser=c[0],localStorage.setItem("authUser",JSON.stringify(t.authUser)),e(c[0])):s("User not found")}))},this.logout=function(){return new Promise((function(e,a){t.authUser=null,localStorage.removeItem("authUser"),e("User logged out")}))},this.authUser=JSON.parse(localStorage.getItem("authUser"))||null;var a=localStorage.getItem("users");this.usersList=JSON.parse(a)||[]},o=a(37),j=a(1),d=s.a.createContext(null),u=function(e){return function(t){return Object(j.jsx)(d.Consumer,{children:function(a){return Object(j.jsx)(e,Object(o.a)(Object(o.a)({},t),{},{store:a}))}})}},b=d,h=a(18),O=a(7),m=a(9),x=a(93),f=a(91),g=a(89),p=a(92),v=a(95),y=a.p+"static/media/logo.6ce24c58.svg",N=(a(59),u((function(e){var t=e.location,a=e.store,s=Object(O.g)();Object(n.useEffect)((function(){null===a.authUser&&s.replace("/login")}),[s,a]),Object(n.useEffect)((function(){void 0===t.state&&s.replace("/")}),[s,t.state]);var c=Object(n.useState)(0),r=Object(m.a)(c,2),i=r[0],l=r[1];return Object(j.jsxs)("div",{className:"details",children:[Object(j.jsxs)(x.a,{bg:"primary",variant:"dark",children:[Object(j.jsx)(x.a.Brand,{children:Object(j.jsx)("img",{src:y,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})}),Object(j.jsx)(x.a.Brand,{children:"My Movies"}),Object(j.jsx)(f.a,{className:"ml-auto",children:Object(j.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.logout().then((function(){return s.push("/login")}))},children:"Logout"})})]}),Object(j.jsxs)(p.a,{activeIndex:i,onSelect:function(e,t){l(e)},interval:2e3,children:[Object(j.jsx)(p.a.Item,{children:Object(j.jsx)("img",{style:{height:"100vh"},className:"d-block w-100",src:t.state.posterUrl,alt:"First slide"})}),Object(j.jsx)(p.a.Item,{children:Object(j.jsx)("img",{style:{height:"100vh"},className:"d-block w-100",src:t.state.posterUrl,alt:"Second slide"})}),Object(j.jsx)(p.a.Item,{children:Object(j.jsx)("img",{style:{height:"100vh"},className:"d-block w-100",src:t.state.posterUrl,alt:"Third slide"})})]}),Object(j.jsxs)(v.a,{className:"container my-4 p-4",children:[Object(j.jsx)("div",{className:"title",children:t.state.title}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:t.state.year}),Object(j.jsx)("li",{children:t.state.genres.map((function(e,a){return e+(a===t.state.genres.length-1?"":" / ")}))}),Object(j.jsxs)("li",{children:[t.state.runtime," mins"]})]}),Object(j.jsx)("div",{className:"title",children:"Director"}),Object(j.jsx)("div",{className:"data",children:t.state.director}),Object(j.jsx)("div",{className:"title",children:"Actors"}),Object(j.jsx)("div",{className:"data",children:t.state.actors}),Object(j.jsx)("div",{className:"title",children:"Plot"}),Object(j.jsx)("div",{className:"data",style:{marginBottom:"2rem"},children:t.state.plot})]})]})}))),w=a(52),C=a.n(w),S=(a(84),u((function(e){var t=e.store,a=Object(O.g)(),s=Object(n.useState)([]),c=Object(m.a)(s,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){null===t.authUser&&a.replace("/login")}),[a,t]),Object(n.useEffect)((function(){C.a.get("https://raw.githubusercontent.com/erik-sytnyk/movies-list/master/db.json").then((function(e){var t;return i(null===(t=e.data)||void 0===t?void 0:t.movies)}))}),[]),Object(j.jsxs)("div",{className:"home",children:[Object(j.jsxs)(x.a,{bg:"primary",variant:"dark",children:[Object(j.jsx)(x.a.Brand,{children:Object(j.jsx)("img",{src:y,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})}),Object(j.jsx)(x.a.Brand,{children:"My Movies"}),Object(j.jsx)(f.a,{className:"ml-auto",children:Object(j.jsx)(g.a,{variant:"outline-light",onClick:function(){return t.logout().then((function(){return a.push("/login")}))},children:"Logout"})})]}),Object(j.jsx)("div",{className:"d-flex flex-row flex-wrap justify-content-around",children:r.map((function(e){return Object(j.jsxs)(v.a,{style:{width:"16rem",margin:"3rem 0rem 0rem"},children:[Object(j.jsx)(v.a.Img,{variant:"top",src:e.posterUrl,alt:"Movie Image",style:{height:"14rem"}}),Object(j.jsxs)(v.a.Body,{className:"d-flex flex-column justify-content-between",children:[Object(j.jsx)(v.a.Title,{children:e.title}),Object(j.jsx)(v.a.Text,{children:e.plot}),Object(j.jsx)(g.a,{onClick:function(){return a.push("/details",e)},variant:"primary",children:"View Details"})]})]},e.id)}))})]})}))),k=a(94),U=a(90),L=(a(85),u((function(e){var t=e.store,a=Object(O.g)(),s=Object(n.useState)(""),c=Object(m.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],u=o[1],b=Object(n.useState)(!1),x=Object(m.a)(b,2),f=x[0],p=x[1],y=Object(n.useState)(""),N=Object(m.a)(y,2),w=N[0],C=N[1];Object(n.useEffect)((function(){null!==t.authUser&&a.replace("/")}),[a,t]);return Object(j.jsxs)("div",{className:"login d-flex align-items-center justify-content-center",children:[""!==w&&Object(j.jsx)(k.a,{variant:"danger",style:{position:"absolute",top:"2rem"},onClose:function(){return C("")},dismissible:!0,children:Object(j.jsx)(k.a.Heading,{children:w})}),Object(j.jsx)(v.a,{className:"container",children:Object(j.jsxs)(U.a,{className:"d-flex flex-column",validated:f,children:[Object(j.jsx)("h1",{className:"align-self-center",children:"My Movies"}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Email address"}),Object(j.jsx)(U.a.Control,{required:!0,type:"email",placeholder:"Enter Email",onChange:function(e){return i(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a valid Email."})]}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Password"}),Object(j.jsx)(U.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(e){return u(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a Password."})]}),Object(j.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:["Dont have an account ?",Object(j.jsx)(h.b,{to:"/signup",style:{marginLeft:10,fontWeight:"700"},children:"SignUp"})]}),Object(j.jsx)(g.a,{variant:"primary",onClick:function(){p(!0),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(r)&&t.authenticateUser({email:r,password:d}).then((function(e){a.push("/")})).catch((function(e){C(e)}))},children:"Login"})]})]})})]})}))),P=(a(86),u((function(e){var t=e.store,a=Object(O.g)(),s=Object(n.useState)(""),c=Object(m.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],u=o[1],b=Object(n.useState)(""),x=Object(m.a)(b,2),f=x[0],p=x[1],y=Object(n.useState)(""),N=Object(m.a)(y,2),w=N[0],C=N[1],S=Object(n.useState)(!1),L=Object(m.a)(S,2),P=L[0],E=L[1],I=Object(n.useState)(""),B=Object(m.a)(I,2),F=B[0],M=B[1];Object(n.useEffect)((function(){null!==t.authUser&&a.replace("/")}),[a,t]);return Object(j.jsxs)("div",{className:"signup d-flex align-items-center justify-content-center",children:[""!==F&&Object(j.jsx)(k.a,{variant:"danger",style:{position:"absolute",top:"2rem"},onClose:function(){return M("")},dismissible:!0,children:Object(j.jsx)(k.a.Heading,{children:F})}),Object(j.jsx)(v.a,{className:"container",children:Object(j.jsxs)(U.a,{className:"d-flex flex-column",validated:P,children:[Object(j.jsx)("h1",{className:"align-self-center",children:"My Movies"}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Name"}),Object(j.jsx)(U.a.Control,{required:!0,type:"text",placeholder:"Enter Name",onChange:function(e){return i(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a Name."})]}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Email address"}),Object(j.jsx)(U.a.Control,{required:!0,type:"email",placeholder:"Enter Email",onChange:function(e){return u(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a valid Email."})]}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Password"}),Object(j.jsx)(U.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a Password."})]}),Object(j.jsxs)(U.a.Group,{children:[Object(j.jsx)(U.a.Label,{children:"Birthday"}),Object(j.jsx)(U.a.Control,{required:!0,type:"date",placeholder:"Birthday",onChange:function(e){return C(e.target.value)}}),Object(j.jsx)(U.a.Control.Feedback,{type:"invalid",children:"Please provide a Birthday."})]}),Object(j.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:["Dont have an account ?",Object(j.jsx)(h.b,{to:"/login",style:{marginLeft:10,fontWeight:"700"},children:"Login"})]}),Object(j.jsx)(g.a,{variant:"primary",onClick:function(){E(!0),t.addUser({name:r,email:d,password:f,dob:w}).then((function(e){e.email&&a.push("/")})).catch((function(){}))},children:"Signup"})]})]})})]})}))),E=u((function(e){var t=e.store;return Object(n.useEffect)((function(){console.log(t,"manoj")}),[t]),Object(j.jsx)(h.a,{children:Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{exact:!0,path:"/login",component:L}),Object(j.jsx)(O.b,{exact:!0,path:"/signup",component:P}),Object(j.jsx)(O.b,{exact:!0,path:"/details",component:N}),Object(j.jsx)(O.b,{exact:!0,path:"/",component:S}),Object(j.jsx)(O.a,{to:"/"})]})})}));var I=function(){return Object(j.jsx)(b.Provider,{value:new l,children:Object(j.jsx)(E,{})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root")),B()}},[[87,1,2]]]);
//# sourceMappingURL=main.7c292868.chunk.js.map